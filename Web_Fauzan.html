<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="utf-8" />
    <title>Intelligence Engineering</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="Coded by Kelompok 2" />
    <link href="app.css" rel="stylesheet" />
    <link href='https://fonts.googleapis.com/css?family=Chakra Petch' rel='stylesheet'>
    <style>
      .form-label {
        margin-bottom: 10px !important;
      }

      body {
        font-size: smaller;
      }

      .form-group {
        margin-bottom: 10px;
      }

      .form-control {
        border-color: #AAAAAA;
      }

      .error-message {
        color: red;
      }
    </style>
  </head>
  <body class="pace-top">
    <div id="app" class="app 1">
      <div class="login" style="margin-top:-32px">
        <div class="login-content">
          <form id="ieForm" method="POST" action="#" data-toggle="validator">
            <h1 class="text-center">Formulir Intelligence Engineering</h1>
            <div class="text-white text-opacity-50 text-center mb-4">Coded by Kelompok 2</div>
            <div class="mb-3">
              <label class="form-label" for="benefit">Manfaat Proyek bagi Organisasi <span class="text-danger">*</span>
              </label>
              <textarea name="benefit" id="benefit" class="form-control bg-white bg-opacity-5" cols="50" rows="4" placeholder="Masukkan Manfaat Proyek"></textarea>
            </div>
            <div class="mb-3">
              <label class="form-label" for="indicator">Leading Indicator <span class="text-danger">*</span>
              </label>
              <textarea name="indicator" id="indicator" class="form-control bg-white bg-opacity-5" cols="50" rows="4" placeholder="Masukkan Leading Indicator"></textarea>
            </div>
            <div class="mb-3">
              <label class="form-label" for="outcomes">User Outcome dan Model Properties <span class="text-danger">*</span>
              </label>
              <textarea name="outcomes" id="outcomes" class="form-control bg-white bg-opacity-5" cols="50" rows="4" placeholder="Masukkan User Outcome dan Model Properties"></textarea>
            </div>
            <div class="mb-3">
              <label class="form-label" for="start">Tanggal Mulai <span class="text-danger">*</span>
              </label>
              <input type="date" name="start" id="start" class="form-control bg-white bg-opacity-5">
            </div>
            <div class="mb-3">
              <label class="form-label" for="end">Tanggal Selesai <span class="text-danger">*</span>
              </label>
              <input type="date" name="end" id="end" class="form-control bg-white bg-opacity-5">
            </div>
            <div class="mb-3">
              <label class="form-label" for="status">Status <span class="text-danger">*</span>
              </label>
              <select name="status" id="status" class="form-select form-control-lg bg-white bg-opacity-5">
                <option value="">Pilih Status</option>
                <option value="selesai">Selesai</option>
                <option value="berlangsung">Berlangsung</option>
                <option value="gagal">Gagal</option>
              </select>
            </div>
            <div class="mb-3">
              <label class="form-label" for="description">Deskripsi Catatan Akhir Kegiatan <span class="text-danger">*</span>
              </label>
              <textarea name="description" id="description" class="form-control bg-white bg-opacity-5" cols="50" rows="4" placeholder="Masukkan Deskripsi"></textarea>
            </div>
            <button type="submit" class="btn btn-outline-teal btn-lg d-block w-100 fw-500 mb-3">Kirim</button>
            <div id="validationErrors" class="error-message" style="display: none;"> Mohon isi semua bidang yang diperlukan. </div>
          </form>
        </div>
      </div>
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script>
      $(document).ready(function() {
        $('#ieForm').submit(function(e) {
          e.preventDefault(); // Menghentikan pengiriman formulir
          var formData = {}; // Objek untuk menyimpan data formulir
          var isValid = true; // Variabel untuk menandai apakah validasi berhasil
          // Mendapatkan nilai dari setiap input dan melakukan validasi
          $(this).find('input, textarea, select').each(function() {
            formData[$(this).attr('name')] = $(this).val(); // Menambahkan nilai ke objek formData
            // Validasi input yang diperlukan
            if ($(this).val().trim() === '') {
              isValid = false; // Set isValid ke false jika ada input yang kosong
              $(this).addClass('is-invalid'); // Tambahkan kelas 'is-invalid' untuk menunjukkan kesalahan pada input yang kosong
            } else {
              $(this).removeClass('is-invalid'); // Hapus kelas 'is-invalid' jika input valid
            }
          });
          // Menampilkan pesan kesalahan jika validasi gagal
          if (!isValid) {
            $('#validationErrors').show(); // Menampilkan pesan kesalahan
            return; // Menghentikan proses jika validasi gagal
          }
          // Menambahkan waktu pengiriman formulir
          formData['submissionTime'] = new Date().toLocaleString();
          // Menyembunyikan pesan kesalahan jika validasi berhasil
          $('#validationErrors').hide();
          // Menampilkan data dalam sebuah alert
          alert(JSON.stringify(formData, null, 2)); // Mengkonversi objek menjadi string JSON dan menampilkan dalam alert
          // Clear input fields if needed
          $(this).find('input, textarea, select').val('');
        });
      });
    </script>
  </body>
</html>